(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(r){if(r.ep)return;r.ep=!0;const c=n(r);fetch(r.href,c)}})();const i=async(t,e="Такого города нет")=>{try{const n=await fetch(t);if(!n.ok)throw new Error(e);return await n.json()}catch(n){throw new Error(n.message)}},l="https://www.weatherapi.com/docs/conditions.json",f="ru";let d=[];const m=async()=>{try{const t=await i(l);return d=t,t}catch(t){console.error(t)}},p=(t,e)=>{const n=d.find(o=>o.code===t).languages.find(o=>o.lang_iso===f);return console.log(n),e?n.day_text:n.night_text},y="5c9ee4132816460883d92445240403",h=document.querySelector(".form"),v=document.querySelector(".input"),u=document.querySelector(".header");(async function(){await m()})();function a(){const t=document.querySelector(".card");t&&t.remove()}function g(t){const e=`<div class="card">${t}<div>`;u.insertAdjacentHTML("afterend",e)}function w({name:t,country:e,temp:n,icon:o,code:r,isDay:c}){const s=`
  <div class="card">
  <h2 class="card-city">${t}<span>${e}</span></h2>
  <div class="card-weather">
    <div class="card-value">${n}<sup>°c</sup></div>
    <img class="card-img" src=${o} alt="">
  </div>
  <div class="card-descr">${p(r,c)}</div>
  </div>
  `;u.insertAdjacentHTML("afterend",s)}const L=async t=>{try{const e=await i(t),n={name:e.location.name,country:e.location.country,temp:e.current.temp_c,text:e.current.condition.text,code:e.current.condition.code,isDay:e.current.is_day,icon:e.current.condition.icon};return a(),w(n),e}catch(e){a(),g(e.message)}};h.addEventListener("submit",async function(t){t.preventDefault();let e=v.value.trim();const n=`https://api.weatherapi.com/v1/current.json?key=${y}&q=${e}`;L(n)});
